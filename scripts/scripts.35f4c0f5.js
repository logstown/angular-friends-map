"use strict";angular.module("friendsMapApp",["ngAnimate","ngCookies","ngRoute","ngSanitize","ngTouch","mgcrea.ngStrap","facebook","google-maps"]).config(["$routeProvider","FacebookProvider",function(a,b){b.init("333221083476999"),a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("friendsMapApp").controller("MainCtrl",["$scope","Facebook",function(a,b){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.$watch(function(){return b.isReady()},function(){a.facebookReady=!0}),a.deals=[{}],b.getLoginStatus(function(c){"connected"!==c.status?(console.log("here"),b.login(function(a){console.log(a)})):(b.api("/me/?fields=friendlists.fields(members,name)",function(b){a.selectedList=1,a.friendLists=[{name:"All",id:1}],a.friendLists=_.union(a.friendLists,b.friendlists.data)}),b.api("/me/friends?fields=name,picture,link,"+a.button.place,function(c){var d="?ids=",e=_.groupBy(c.data,function(b){return void 0!==b[a.button.place]?b[a.button.place].id:void 0});angular.forEach(e,function(a,b){d+=b+","}),d=d.substring(0,d.length-1),b.api(d,function(b){a.markers=_.map(b,function(b,c){var d=e[c],f=d[0].picture.data.url,g=d[0].name+" ("+d[0][a.button.place].name+")",h='<center><strong><a href="'+d[0].link+'">'+d[0].name+'</a></strong><br> (<a href="'+b.link+'">'+d[0][a.button.place].name+"</a>)</center>";if(d.length>1){f="https://fbcdn-profile-a.akamaihd.net/static-ak/rsrc.php/v2/yo/r/UlIqmHJn-SK.gif";var i="location"===a.button.place?" in ":" from ";g=d.length+i+d[0][a.button.place].name,h="<center><h4>"+d[0][a.button.place].name+"</h4></center><table>";for(var j=0;j<d.length;j++)h+='<tr><td><img src="'+d[j].picture.data.url+'"></td><td><a href="'+d[j].link+'">'+d[j].name+"</a></td></tr>";h+="</table>"}return{id:c,icon:f,latitude:b.location.latitude,longitude:b.location.longitude}}),a.onMarkerClicked=function(b){b.showWindow=!0,a.$apply()},_.each(a.markers,function(b){b.onClicked=function(){a.onMarkerClicked(b)},b.showWindow=!1}),console.log(a.markers)})}))}),a.button={place:"location"},a.deal={latitude:45,longitude:-73},a.map={center:{latitude:45,longitude:-73},zoom:8},a.icons=[{"value ":"Gear ","label ":' < i class = "fa fa-gear"></i> Gear'},{value:"Globe",label:'<i class="fa fa-globe"></i> Globe'},{value:"Heart",label:'<i class="fa fa-heart"></i> Heart'},{value:"Camera",label:'<i class="fa fa-camera"></i> Camera'}]}]),angular.module("friendsMapApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);